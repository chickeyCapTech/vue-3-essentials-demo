var e=Object.assign;import{p as t,a as s,r,o as a,c as l,b as n,t as o,w as u,d as c,e as i,F as p,f as d,g as m,h,i as y,j as v,u as f,k as g,l as b,m as _,n as k,q,v as w,s as C,x as R,y as I,z as M,A as j,T as O,B as F,C as T,D as U,E as $}from"./vendor.654be6d6.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(s){const r=new URL(e,location),a=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((s,l)=>{const n=new URL(e,r);if(self[t].moduleMap[n])return s(self[t].moduleMap[n]);const o=new Blob([`import * as m from '${n}';`,`${t}.moduleMap['${n}']=m;`],{type:"text/javascript"}),u=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(o),onerror(){l(new Error(`Failed to import: ${e}`)),a(u)},onload(){s(self[t].moduleMap[n]),a(u)}});document.head.appendChild(u)})),self[t].moduleMap={}}}("/vue-3-essentials-demo/assets/");t("data-v-ffdff048"),s();const D={props:{title:{type:String,required:!0}},methods:{loadRandomRecipe(e){e.preventDefault(),fetch("https://www.themealdb.com/api/json/v1/1/random.php").then((e=>e.json())).then((e=>{this.$router.push({path:"/recipe",query:{id:e.meals[0].idMeal}})}))}},computed:{formattedTitle(){let e=this.title.split(" ");return e=e.map((e=>e[0].toUpperCase()+e.substring(1))),e.join(" ")}}},P=u();t("data-v-49b4ccda");const Q={class:"header"},S={class:"logo"},x=n("img",{src:"/vue-3-essentials-demo/assets/recipe-logo.f5e59c17.png"},null,-1),L=c(" Home ");s();const E=P(((e,t,s,u,c,i)=>{const p=r("router-link");return a(),l("div",Q,[n("div",S,[x,n("h2",null,o(i.formattedTitle),1)]),n("nav",null,[n(p,{to:"/"},{default:P((()=>[L])),_:1}),n("a",{href:"#",onClick:t[1]||(t[1]=(...e)=>i.loadRandomRecipe&&i.loadRandomRecipe(...e))}," Random Recipe ")])])}));D.render=E,D.__scopeId="data-v-49b4ccda";const A={props:{id:{type:String,required:!0},recipeName:{type:String,required:!0},thumbnail:{type:String,required:!0},category:{type:String,required:!0},tags:{type:Array,validator:e=>!e||e.every((e=>"string"==typeof e))}}},N={class:"recipe-card"},V={class:"recipe-card__info"};A.render=function(e,t,s,u,c,m){const h=r("router-link");return a(),l("div",N,[n(h,{to:{path:"/recipe",query:{id:s.id}}},{default:i((()=>[n("img",{src:s.thumbnail},null,8,["src"])])),_:1},8,["to"]),n("div",V,[n("h5",null,o(s.category),1),n(h,{to:{path:"/recipe",query:{id:s.id}}},{default:i((()=>[n("h3",null,o(s.recipeName),1)])),_:1},8,["to"]),n("ul",null,[(a(!0),l(p,null,d(s.tags,(e=>(a(),l("li",{key:e},o(e),1)))),128))])])])};const Y={components:{RecipeCard:A},setup(){const{currentQuery:t,query:s,meals:r,search:a}=function(){const t=h({query:"",currentQuery:"",meals:""});let s;y((()=>{console.log("updated")})),v((()=>{clearTimeout(s),console.log(t.query);let e=t.query;s=setTimeout((()=>{console.log(e)}),1e3)}));const r=f(),a=g(),l=()=>{if(0==t.query.trim().length)return t.meals=[],t.currentQuery="",void a.push("/");fetch("https://www.themealdb.com/api/json/v1/1/search.php?s="+t.query).then((e=>e.json())).then((e=>{t.meals=e.meals,t.currentQuery=t.query,a.push("/?q="+t.query)}))};return r.query.q&&(t.query=r.query.q,l()),e(e({},m(t)),{search:l})}(),l=b(""),n=b(null);_((()=>{console.log(n.value),n.value.focus()}));const o=k((()=>0==l.value.length?r.value:r.value.filter((e=>e.strCategory&&e.strCategory==l.value)))),u=k((()=>{let e=[];return r.value.forEach((t=>{t.strCategory&&-1==e.indexOf(t.strCategory)&&e.push(t.strCategory)})),e}));return{currentQuery:t,query:s,meals:r,search:a,filteredMeals:o,searchFilter:l,searchInput:n,searchFilterOptions:u}}},B=u();t("data-v-be27d788");const W={class:"home"},z={class:"search"},H=n("h1",null,"Find a Recipe",-1),K={class:"results"},X={key:0,class:"results-header"},G={key:0},J=c(" Filter results "),Z=n("option",{value:""},"View All",-1),ee={key:1},te={class:"results-cards"};s();const se=B(((e,t,s,u,c,i)=>{const m=r("recipe-card");return a(),l("div",W,[n("div",z,[H,q(n("input",{type:"text",placeholder:"Enter a recipe name","onUpdate:modelValue":t[1]||(t[1]=e=>u.query=e),onKeydown:t[2]||(t[2]=C(((...e)=>u.search&&u.search(...e)),["enter"])),ref:"searchInput"},null,544),[[w,u.query]]),n("button",{onClick:t[3]||(t[3]=(...e)=>u.search&&u.search(...e))},"Search")]),n("div",K,[u.currentQuery.length>0?(a(),l("div",X,[u.meals&&u.meals.length>0?(a(),l("div",G,[n("p",null,o(u.meals.length)+" results for "+o(u.currentQuery),1),n("p",null,[J,q(n("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>u.searchFilter=e)},[Z,(a(!0),l(p,null,d(u.searchFilterOptions,(e=>(a(),l("option",{key:e,value:e},o(e),9,["value"])))),128))],512),[[R,u.searchFilter]])])])):(a(),l("div",ee,"No results found for "+o(u.currentQuery),1))])):I("",!0),n("div",te,[(a(!0),l(p,null,d(u.filteredMeals,(e=>(a(),l(m,{key:e.idMeal,id:e.idMeal,"recipe-name":e.strMeal,category:e.strCategory,thumbnail:e.strMealThumb,tags:e.strTags?e.strTags.split(","):[]},null,8,["id","recipe-name","category","thumbnail","tags"])))),128))])])])}));Y.render=se,Y.__scopeId="data-v-be27d788";const re={expose:[],setup:e=>(e,t)=>{const s=r("router-view");return a(),l(p,null,[n(D,{title:"my recipe"}),n(s,{key:e.$route.meta.key?e.$route.meta.key(e.$route):"default"})],64)}};const ae={setup(e,t){const s=b(null),r=()=>{t.emit("close")};return M(s,r),{closePopup:r,content:s}}},le=u();t("data-v-bdf8c788");const ne={key:0,class:"popup"},oe={class:"popup-contect",ref:"content"},ue=c("Popup Window Fallback");s();const ce=le(((e,t,s,r,o,u)=>(a(),l("div",ne,[n("div",oe,[n("div",{class:"close",onClick:t[1]||(t[1]=(...e)=>r.closePopup&&r.closePopup(...e))}," X "),j(e.$slots,"default",{},(()=>[ue]))],512)]))));ae.render=ce,ae.__scopeId="data-v-bdf8c788";const ie={components:{Popup:ae},props:{videoID:{type:String,required:!0}}};ie.render=function(e,t,s,o,u,c){const p=r("popup");return a(),l(p,null,{default:i((()=>[n("iframe",{width:"560",height:"315",frameborder:"0",allowfullscreen:"",src:"https://youtube.com/embed/"+s.videoID},null,8,["src"])])),_:1})};const pe={components:{YoutubePopup:ie},setup(){const e=f(),t=g(),s=e.query.id,r=b(!1),a=b(null),l=k((()=>a.value.strTags?a.value.strTags.split(","):[])),n=k((()=>a.value.strInstructions.split("\r\n").filter((e=>e.length>0)))),o=k((()=>{let e=[];for(var t=1;t<=20;t++)a.value["strIngredient"+t]&&e.push({name:a.value["strIngredient"+t],amount:a.value["strMeasure"+t]});return e}));return fetch("https://www.themealdb.com/api/json/v1/1/lookup.php?i="+s).then((e=>e.json())).then((e=>{a.value=e.meals[0]})).catch((e=>{t.push("/")})),{ingredients:o,directions:n,popupOpen:r,meal:a,tags:l}}},de=u();t("data-v-280d3d4b");const me={key:0,class:"recipe"},he={class:"recipe-header"},ye={class:"recipe-header__text"},ve={key:0,class:"recipe-tags"},fe={class:"recipe-content"},ge={class:"ingredients"},be=n("h2",null,"Ingredients",-1),_e={class:"directions"},ke=n("h2",null,"Directions",-1);s();const qe=de(((e,t,s,u,c,i)=>{const m=r("youtube-popup");return u.meal?(a(),l("div",me,[(a(),l(O,{to:"#teleport-target"},[n(F,{"enter-active-class":"animate__animated animate__fadeInDown","leave-active-class":"animate__animated animate__fadeOutUp"},{default:de((()=>[u.popupOpen?(a(),l(m,{key:0,onClose:t[1]||(t[1]=e=>u.popupOpen=!1),videoID:u.meal.strYoutube.split("?v=")[1]},null,8,["videoID"])):I("",!0)])),_:1})])),n("div",he,[n("img",{src:u.meal.strMealThumb},null,8,["src"]),n("div",ye,[n("h3",null,o(u.meal.strCategory),1),n("h1",null,o(u.meal.strMeal),1),n("button",{onClick:t[2]||(t[2]=e=>u.popupOpen=!0)},"Watch on Youtube"),u.tags?(a(),l("ul",ve,[(a(!0),l(p,null,d(u.tags,(e=>(a(),l("li",{key:e},o(e),1)))),128))])):I("",!0)])]),n("div",fe,[n("div",ge,[be,n("ul",null,[(a(!0),l(p,null,d(u.ingredients,(e=>(a(),l("li",{key:e.name},o(e.name)+" - "+o(e.amount),1)))),128))])]),n("div",_e,[ke,n("ol",null,[(a(!0),l(p,null,d(u.directions,(e=>(a(),l("li",{key:e},o(e),1)))),128))])])])])):I("",!0)}));pe.render=qe,pe.__scopeId="data-v-280d3d4b";const we=T({history:U("/vue-3-essentials-demo/"),routes:[{path:"/",component:Y,meta:{key:()=>"default"}},{path:"/recipe",component:pe,meta:{key:e=>e.fullPath}}]}),Ce=$(re);Ce.use(we),Ce.mount("#app");
